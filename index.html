<!DOCTYPE html> 
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Dream Carousel</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:'Quicksand',sans-serif;
  background:#0b0012;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  color:white;
  overflow-x:hidden;
  position:relative;
}

/* TITLE */
.title-container{
  position:relative;
  margin:30px 0 15px;
  text-align:center;
  z-index:10;
}
h1{
  font-family:'Great Vibes',cursive;
  font-size:clamp(2.4rem,5vw,3.6rem);
  color:#ffb6c1;
  text-shadow:0 0 20px rgba(255,182,193,.9),0 0 40px rgba(214,52,105,.5);
  position:relative;
  z-index:10;
}
.title-decoration{
  position:absolute;
  width:12px;height:12px;
  background:pink;
  border-radius:50%;
}
.title-decoration:nth-child(1){left:-20px;top:-10px;}
.title-decoration:nth-child(2){right:-15px;top:5px;}
.title-decoration:nth-child(3){left:10%;top:-15px;background:#ff85a2;}
.title-decoration:nth-child(4){right:12%;top:-12px;background:#ffccdd;}

/* CAROUSEL */
.carousel-container{
  z-index:2;
  backdrop-filter:blur(14px);
  background:rgba(255,255,255,.08);
  border-radius:28px;
  padding:22px;
  box-shadow:0 0 40px rgba(255,120,160,.25);
  width:95%;
  max-width:950px;
  overflow:hidden;
  position:relative;
  display:flex;
  justify-content:center;
}
.carousel-slide{
  display:flex;
  gap:24px;
}
.carousel-slide .item{
  width:240px;height:360px;
  border-radius:24px;
  overflow:hidden;
  background:linear-gradient(45deg, #fff, #ffe1e6);
  box-shadow:0 12px 24px rgba(214,52,105,0.3);
  transform:scale(0.85);
  opacity:0.6;
  position:relative;
}
.carousel-slide .item.center{
  transform:scale(1);
  opacity:1;
  border:5px solid #ff85a2;
  box-shadow:0 16px 36px rgba(214,52,105,0.5);
  z-index:2;
}
.carousel-slide video{
  width:100%;height:100%;
  object-fit:cover;
  border-radius:20px;
}

/* BUTTONS */
button{
  background:linear-gradient(45deg,#ff7fa5,#ff4d88);
  border:none;
  padding:14px 26px;
  border-radius:18px;
  color:white;
  font-weight:600;
  font-size:1rem;
  margin:14px 8px;
  cursor:pointer;
  box-shadow:0 0 20px rgba(255,100,150,.5);
  position:relative;
  z-index:15;
}
button:hover{transform:scale(1.06);}
button:disabled{opacity:.5;cursor:default;}

/* LETTER */
.letter-popup{
  position:fixed;
  top:50%;left:50%;
  transform:translate(-50%,-50%) scale(0);
  width:95%;max-width:560px;max-height:80vh;
  overflow:auto;
  background:linear-gradient(to bottom right, #ffe1eb, #ffd1e0);
  border-radius:24px;
  padding:26px;
  z-index:20;
  transition:.4s;
  box-shadow:0 0 50px rgba(255,182,193,0.5);
}
.letter-popup.open{transform:translate(-50%,-50%) scale(1);}
.letter-text{white-space:pre-wrap;line-height:1.8;text-align:justify;color:#ff69b4;font-size:1rem; margin-top:20px;}

/* BOUQUET CANVAS */
#flowerCanvas{
  display:none;
  position:fixed;
  top:0;left:0;
  width:100%;
  height:100%;
  z-index:5;
  background:#0b0012;
}
.ending-text{
  display:none;
  font-size:2rem;
  color:#ff4d88;
  font-family:'Great Vibes',cursive;
  text-align:right;
  position:fixed;
  top:50%;
  right:5%;
  transform:translateY(-50%);
  z-index:15;
  animation:fadeMove 3s ease-in-out infinite alternate;
}
@keyframes fadeMove{
  0%{opacity:0.6; transform:translateY(-50%) translateX(0);}
  100%{opacity:1; transform:translateY(-50%) translateX(-10px);}
}
#homeBtn{display:none;position:fixed;top:5%;right:5%;z-index:15;}
</style>
</head>
<body>

<div class="title-container">
  <h1>Happy Valentines Lilay</h1>
  <div class="title-decoration"></div>
  <div class="title-decoration"></div>
  <div class="title-decoration"></div>
  <div class="title-decoration"></div>
</div>

<div class="carousel-container" id="carouselMain">
  <div class="carousel-slide" id="carouselSlide">
    <div class="item">
      <video src="00cc6afcd52ac41a63c01ccda9e7ffa4.mp4" autoplay loop muted></video>
    </div>
    <div class="item center">
      <video src="Recording 2026-01-06 140951.mp4" autoplay loop muted></video>
    </div>
    <div class="item">
      <video src="00cc6afcd52ac41a63c01ccda9e7ffa4.mp4" autoplay loop muted></video>
    </div>
  </div>
</div>

<button id="openLetterBtn">Open Letter</button>
<button id="musicBtn">‚ñ∂ Play Music</button>

<div class="letter-popup" id="letterPopup">
<h3 style="color:#ff69b4;">  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to my pretty lilay ‚ù§Ô∏è
</h3>
<div id="typedText" class="letter-text"></div>
<button id="nextBtn">Next</button>
<button id="goBtn" disabled>Let's go!</button>
<button onclick="letterPopup.classList.remove('open')">Close</button>
</div>

<div style="position:fixed;width:0;height:0;overflow:hidden">
<iframe id="ytplayer" src="https://www.youtube.com/embed/E7Aif6vPMhU?enablejsapi=1" allow="autoplay"></iframe>
</div>

<canvas id="flowerCanvas"></canvas>
<div class="ending-text" id="endingText">if i could, then i would</div>
<button id="homeBtn">üè† Home</button>

<script>
// LETTER (UNCHANGED)
const part1=`     helloo baby girl kamusta? happy valentines po:) iloveyousomuch honhon kahit muka kang kalaban araw araw hahaha joke lang...`;
const part2=`honhon ko, hindi ako magsasawang bumawi at mag promise kasi lahat yon tutupadin ko...`;

let idx=0,current=part1;
function type(){ if(idx<current.length){ typedText.textContent+=current[idx++]; setTimeout(type,60);} }

openLetterBtn.onclick=()=>{letterPopup.classList.add("open"); typedText.textContent=""; idx=0; current=part1; nextBtn.style.display="inline-block"; goBtn.style.display="inline-block"; goBtn.disabled=true; type();};
nextBtn.onclick=()=>{typedText.textContent=""; idx=0; current=part2; nextBtn.style.display="none"; goBtn.disabled=false; type();};

// CANVAS
const canvas=document.getElementById('flowerCanvas');
const ctx=canvas.getContext('2d');
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

/* ‚úÖ ONLY UPDATED PART ‚Äî MANY COLORS + WHITE FILLERS */
class Flower{
constructor(x,y,type='carnation',depth=1){
this.x=x; this.y=y; this.depth=depth;
this.scale=0; this.targetScale=1.2;
this.type=type;
this.rotation=Math.random()*Math.PI*2;
this.petalCount=12+Math.floor(Math.random()*4);
this.color=this.getColor(type);
this.bloomSpeed=0.02+Math.random()*0.01;
}

getColor(type){
const many=[
['#ff69b4','#ff1493'],
['#ff1744','#ff8a80'],
['#ffffff','#ffe6f0'],
['#4da6ff','#82cfff'],
['#ffb347','#ffd699'],
['#c084fc','#e9d5ff'],
['#ff4d88','#ffc1d6']
];
if(type==='filler') return ['#ffffff','#f2f2f2'];
return many[Math.floor(Math.random()*many.length)];
}

drawStem(){
ctx.strokeStyle='#228B22';
ctx.lineWidth=2;
ctx.beginPath();
ctx.moveTo(this.x,this.y+5);
ctx.lineTo(this.x,this.y+60);
ctx.stroke();
}

drawPetals(){
ctx.save();
ctx.translate(this.x,this.y);
ctx.rotate(this.rotation);
ctx.scale(this.scale,this.scale);

for(let i=0;i<this.petalCount;i++){
ctx.rotate((2*Math.PI)/this.petalCount);
let grad=ctx.createLinearGradient(0,0,0,-60);
grad.addColorStop(0,this.color[0]);
grad.addColorStop(1,this.color[1]);
ctx.fillStyle=grad;
ctx.beginPath();
ctx.moveTo(0,0);
ctx.bezierCurveTo(-20,-50,20,-55,0,-12);
ctx.fill();
}

/* white fillers around flower */
for(let i=0;i<6;i++){
ctx.beginPath();
ctx.arc(Math.cos(i)*28,Math.sin(i)*28,3,0,Math.PI*2);
ctx.fillStyle="#ffffff";
ctx.shadowColor="#ffffff";
ctx.shadowBlur=8;
ctx.fill();
}

ctx.restore();
}

update(){this.scale+=(this.targetScale-this.scale)*this.bloomSpeed;}
draw(){this.drawPetals(); this.drawStem();}
}
</script>
</body>
</html>
