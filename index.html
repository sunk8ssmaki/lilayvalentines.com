<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Dream Carousel</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:'Quicksand',sans-serif;
  background:#0b0012;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  color:white;
  overflow-x:hidden;
  position:relative;
}

/* TITLE */
.title-container{
  position:relative;
  margin:30px 0 15px;
  text-align:center;
  z-index:10;
}
h1{
  font-family:'Great Vibes',cursive;
  font-size:clamp(2.4rem,5vw,3.6rem);
  color:#ffb6c1;
  text-shadow:0 0 20px rgba(255,182,193,.9),0 0 40px rgba(214,52,105,.5);
}

/* CAROUSEL */
.carousel-container{
  z-index:2;
  backdrop-filter:blur(14px);
  background:rgba(255,255,255,.08);
  border-radius:28px;
  padding:22px;
  box-shadow:0 0 40px rgba(255,120,160,.25);
  width:95%;
  max-width:950px;
  overflow:hidden;
  position:relative;
  display:flex;
  justify-content:center;
}
.carousel-slide{display:flex;gap:24px;}
.carousel-slide .item{
  width:240px;height:360px;
  border-radius:24px;
  overflow:hidden;
  background:linear-gradient(45deg, #fff, #ffe1e6);
  box-shadow:0 12px 24px rgba(214,52,105,0.3);
  transform:scale(0.85);
  opacity:0.6;
}
.carousel-slide .item.center{
  transform:scale(1);
  opacity:1;
  border:5px solid #ff85a2;
}
.carousel-slide video{
  width:100%;height:100%;
  object-fit:cover;
}

/* BUTTONS */
button{
  background:linear-gradient(45deg,#ff7fa5,#ff4d88);
  border:none;
  padding:14px 26px;
  border-radius:18px;
  color:white;
  font-weight:600;
  font-size:1rem;
  margin:14px 8px;
  cursor:pointer;
  z-index:15;
}

/* LETTER */
.letter-popup{
  position:fixed;
  top:50%;left:50%;
  transform:translate(-50%,-50%) scale(0);
  width:95%;max-width:560px;max-height:80vh;
  overflow:auto;
  background:linear-gradient(to bottom right, #ffe1eb, #ffd1e0);
  border-radius:24px;
  padding:26px;
  z-index:20;
  transition:.4s;
}
.letter-popup.open{transform:translate(-50%,-50%) scale(1);}
.letter-text{
  white-space:pre-wrap;
  line-height:1.8;
  text-align:justify;
  color:#ff69b4;
  font-size:1rem;
  margin-top:20px;
}

/* CANVAS */
#flowerCanvas{
  display:none;
  position:fixed;
  top:0;left:0;
  width:100%;
  height:100%;
  z-index:5;
  background:#0b0012;
}

/* WOW TEXT CENTER */
.loveText{
  display:none;
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  font-family:'Great Vibes',cursive;
  font-size:clamp(2.5rem,5vw,4rem);
  color:#ffd6e7;
  text-align:center;
  z-index:16;
  animation:loveGlow 3s ease-in-out infinite alternate;
  pointer-events:none;
}

@keyframes loveGlow{
  0%{text-shadow:0 0 10px #ff4d88,0 0 30px #ff4d88;}
  100%{text-shadow:0 0 25px #ff85a2,0 0 60px #ff85a2;}
}
</style>
</head>
<body>

<h1>Happy Valentines Lilay</h1>

<div class="carousel-container" id="carouselMain">
  <div class="carousel-slide" id="carouselSlide">
    <div class="item"><video src="00cc6afcd52ac41a63c01ccda9e7ffa4.mp4" autoplay loop muted></video></div>
    <div class="item center"><video src="Recording 2026-01-06 140951.mp4" autoplay loop muted></video></div>
    <div class="item"><video src="00cc6afcd52ac41a63c01ccda9e7ffa4.mp4" autoplay loop muted></video></div>
  </div>
</div>

<button id="openLetterBtn">Open Letter</button>
<button id="musicBtn">▶ Play Music</button>

<div class="letter-popup" id="letterPopup">
<h3 style="color:#ff69b4;">to my pretty lilay ❤️</h3>
<div id="typedText" class="letter-text"></div>
<button id="nextBtn">Next</button>
<button id="goBtn" disabled>Let's go!</button>
</div>

<canvas id="flowerCanvas"></canvas>
<div class="loveText" id="loveText">mariz will be my forever valentine</div>

<script>
// ===== LETTER (UNCHANGED) =====
const part1=`     helloo baby girl kamusta? happy valentines po:) iloveyousomuch honhon kahit muka kang kalaban araw araw hahaha joke lang...`;
const part2=`honhon ko, hindi ako magsasawang bumawi at mag promise...`;

let idx=0,current=part1;
function type(){ if(idx<current.length){ typedText.textContent+=current[idx++]; setTimeout(type,60);} }

openLetterBtn.onclick=()=>{
letterPopup.classList.add("open");
typedText.textContent="";
idx=0; current=part1;
nextBtn.style.display="inline-block";
goBtn.style.display="inline-block";
goBtn.disabled=true;
type();
};
nextBtn.onclick=()=>{
typedText.textContent="";
idx=0; current=part2;
nextBtn.style.display="none";
goBtn.disabled=false;
type();
};

// ===== FLOWERS (LOGIC SAME — ONLY VISUAL UPGRADE) =====
const canvas=document.getElementById('flowerCanvas');
const ctx=canvas.getContext('2d');
canvas.width=innerWidth;
canvas.height=innerHeight;

class Flower{
constructor(x,y){
this.x=x; this.y=y;
this.scale=0;
this.targetScale=1.2;
this.petalCount=14;
this.rotation=Math.random()*6;
this.colors=['#ff69b4','#ff1493'];
}
draw(){
ctx.save();
ctx.translate(this.x,this.y);
ctx.rotate(this.rotation);
ctx.scale(this.scale,this.scale);

/* WOW GLOW */
ctx.shadowColor="#ff4d88";
ctx.shadowBlur=25;

for(let i=0;i<this.petalCount;i++){
ctx.rotate((Math.PI*2)/this.petalCount);

let g=ctx.createLinearGradient(0,0,0,-60);
g.addColorStop(0,this.colors[0]);
g.addColorStop(1,this.colors[1]);
ctx.fillStyle=g;

ctx.beginPath();
ctx.moveTo(0,0);
ctx.bezierCurveTo(-20,-50,20,-55,0,-12);
ctx.fill();

/* DUST VEIN LINES — ADDED */
ctx.strokeStyle="rgba(255,255,255,.35)";
ctx.lineWidth=.6;
for(let v=0; v<4; v++){
ctx.beginPath();
ctx.moveTo(0,-12);
ctx.lineTo(Math.random()*8-4,-25-v*6);
ctx.stroke();
}
}

ctx.restore();
}
update(){ this.scale+=(this.targetScale-this.scale)*.03;}
}

let flowers=[];
function initBouquet(){
flowers=[];
const cx=canvas.width/2, cy=canvas.height/2+40;

/* HEART SHAPE — SAME */
for(let i=0;i<25;i++){
let t=i/25*Math.PI*2;
let x=16*Math.pow(Math.sin(t),3);
let y=-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
flowers.push(new Flower(cx+x*15, cy+y*15));
}
}

function centerLight(){
let g=ctx.createRadialGradient(
canvas.width/2,canvas.height/2,0,
canvas.width/2,canvas.height/2,300);
g.addColorStop(0,"rgba(255,120,160,.25)");
g.addColorStop(1,"transparent");
ctx.fillStyle=g;
ctx.fillRect(0,0,canvas.width,canvas.height);
}

function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);
centerLight();
flowers.forEach(f=>{f.update(); f.draw();});
requestAnimationFrame(animate);
}

goBtn.onclick=()=>{
document.getElementById('carouselMain').style.display='none';
letterPopup.style.display='none';
openLetterBtn.style.display='none';
musicBtn.style.display='none';
canvas.style.display='block';
document.getElementById('loveText').style.display='block';
initBouquet();
animate();
};

window.addEventListener('resize',()=>{
canvas.width=innerWidth;
canvas.height=innerHeight;
});
</script>
</body>
</html>
